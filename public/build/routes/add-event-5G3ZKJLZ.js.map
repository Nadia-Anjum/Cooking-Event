{
  "version": 3,
  "sources": ["../../../app/routes/add-event.jsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app\\\\\\\\routes\\\\\\\\add-event.jsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app\\\\routes\\\\add-event.jsx\");\n  import.meta.hot.lastModified = \"1710277249876.3066\";\n}\n// REMIX HMR END\n\nimport { redirect } from \"@remix-run/node\";\nimport { Form, useNavigate } from \"@remix-run/react\";\nimport mongoose from \"mongoose\";\nimport { useState } from \"react\";\nimport { authenticator } from \"../services/auth.server\";\nexport const meta = () => {\n  return [{\n    title: \"Cooking classes - Add New Event\"\n  }];\n};\n\n// This loader will check if the user is authenticated\nexport async function loader({\n  request\n}) {\n  return await authenticator.isAuthenticated(request, {\n    failureRedirect: \"/signin\"\n  });\n}\n\n// This is the form to add a new event\nexport default function AddEvent() {\n  _s();\n  const [image, setImage] = useState(\"https://placehold.co/600x400?text=Add+your+amazing+image\");\n  const navigate = useNavigate();\n  function handleCancel() {\n    navigate(-1);\n  }\n  return <div className=\"page\">\r\n      <h1>Add an Event</h1>\r\n      <Form id=\"event-form\" method=\"post\">\r\n      <div className=\"form-row\">\r\n      <div className=\"form-column\">\r\n\r\n        <label htmlFor=\"title\">Title</label>\r\n        <input id=\"title\" name=\"title\" type=\"text\" placeholder=\"Event Title...\" />\r\n\r\n        <label htmlFor=\"caption\">Caption</label>\r\n        <input id=\"caption\" name=\"caption\" type=\"text\" aria-label=\"caption\" placeholder=\"Write a caption...\" />\r\n\r\n        <label htmlFor=\"date\">Date</label>\r\n        <input id=\"date\" name=\"date\" type=\"date\" />\r\n\r\n        <label htmlFor=\"time\">Time</label>\r\n        <input id=\"time\" name=\"time\" type=\"time\" />\r\n        </div>\r\n\r\n        <div className=\"form-column\">\r\n        <label htmlFor=\"location\">Location</label>\r\n        <input id=\"location\" name=\"location\" type=\"text\" placeholder=\"Event Location...\" />\r\n\r\n        <label htmlFor=\"image\">Image URL</label>\r\n        <input name=\"image\" type=\"url\" onChange={e => setImage(e.target.value)} placeholder=\"Paste an image URL...\" />\r\n\r\n        <label htmlFor=\"image-preview\">Image Preview</label>\r\n        <img id=\"image-preview\" className=\"image-preview\" src={image ? image : \"https://placehold.co/600x400?text=Paste+an+image+URL\"} alt=\"Choose\" onError={e => e.target.src = \"https://placehold.co/600x400?text=Error+loading+image\"} />\r\n        </div>\r\n        </div>\r\n\r\n        <div className=\"btns\">\r\n          <button>Save</button>\r\n          <button type=\"button\" className=\"btn-cancel\" onClick={handleCancel}>\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </Form>\r\n    </div>;\n}\n_s(AddEvent, \"QpCxe6nt8u8U+ySuIgQvx54vUkc=\", false, function () {\n  return [useNavigate];\n});\n_c = AddEvent;\nexport async function action({\n  request\n}) {\n  const formData = await request.formData();\n  const event = Object.fromEntries(formData);\n\n  // Get the authenticated user\n  const user = await authenticator.isAuthenticated(request, {\n    failureRedirect: \"/signin\"\n  });\n  console.log(user);\n  // Add the authenticated user's id to the event.user field\n  event.user = user._id;\n  // Save the event to the database\n\n  await mongoose.models.Event.create(event);\n  return redirect(\"/events\");\n}\nvar _c;\n$RefreshReg$(_c, \"AddEvent\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqBA,kBAAyB;AAEzB,sBAAqB;AACrB,IAAAA,gBAAyB;AACzB,kBAA8B;AAyBxB;AAjDN,IAAI,CAAC,OAAO,gBAAgB,CAAC,OAAO,gBAAgB,CAAC,OAAO,kBAAkB;AAC5E,UAAQ,KAAK,kGAAkG;AACjH,OAAO;AACD,mBAAiB,OAAO;AACxB,mBAAiB,OAAO;AAC5B,SAAO,eAAe,CAAC,MAAM,OAAO;AAClC,WAAO,iBAAiB,SAAS,MAAM,qCAAuC,EAAE;AAAA,EAClF;AACA,SAAO,eAAe,OAAO,iBAAiB;AAChD;AANM;AACA;AAMN,IAAI,KAAK,aAAa;AAEtB,IAAI,aAAa;AACf,cAAY,MAAc;AAAA;AAAA,IAE1B;AAAA,EAA4B;AAC5B,cAAY,IAAI,eAAe;AACjC;AAQO,IAAM,OAAO,MAAM;AACxB,SAAO,CAAC;AAAA,IACN,OAAO;AAAA,EACT,CAAC;AACH;AAYe,SAAR,WAA4B;AACjC,KAAG;AACH,QAAM,CAAC,OAAO,QAAQ,QAAI,wBAAS,0DAA0D;AAC7F,QAAM,WAAW,YAAY;AAC7B,WAAS,eAAe;AACtB,aAAS,EAAE;AAAA,EACb;AACA,SAAO,mDAAC,SAAI,WAAU,QAClB;AAAA,uDAAC,QAAG,4BAAJ;AAAA;AAAA;AAAA;AAAA,WAAgB;AAAA,IAChB,mDAAC,QAAK,IAAG,cAAa,QAAO,QAC7B;AAAA,yDAAC,SAAI,WAAU,YACf;AAAA,2DAAC,SAAI,WAAU,eAEb;AAAA,6DAAC,WAAM,SAAQ,SAAQ,qBAAvB;AAAA;AAAA;AAAA;AAAA,iBAA4B;AAAA,UAC5B,mDAAC,WAAM,IAAG,SAAQ,MAAK,SAAQ,MAAK,QAAO,aAAY,oBAAvD;AAAA;AAAA;AAAA;AAAA,iBAAwE;AAAA,UAExE,mDAAC,WAAM,SAAQ,WAAU,uBAAzB;AAAA;AAAA;AAAA;AAAA,iBAAgC;AAAA,UAChC,mDAAC,WAAM,IAAG,WAAU,MAAK,WAAU,MAAK,QAAO,cAAW,WAAU,aAAY,wBAAhF;AAAA;AAAA;AAAA;AAAA,iBAAqG;AAAA,UAErG,mDAAC,WAAM,SAAQ,QAAO,oBAAtB;AAAA;AAAA;AAAA;AAAA,iBAA0B;AAAA,UAC1B,mDAAC,WAAM,IAAG,QAAO,MAAK,QAAO,MAAK,UAAlC;AAAA;AAAA;AAAA;AAAA,iBAAyC;AAAA,UAEzC,mDAAC,WAAM,SAAQ,QAAO,oBAAtB;AAAA;AAAA;AAAA;AAAA,iBAA0B;AAAA,UAC1B,mDAAC,WAAM,IAAG,QAAO,MAAK,QAAO,MAAK,UAAlC;AAAA;AAAA;AAAA;AAAA,iBAAyC;AAAA,aAZ3C;AAAA;AAAA;AAAA;AAAA,eAaE;AAAA,QAEA,mDAAC,SAAI,WAAU,eACf;AAAA,6DAAC,WAAM,SAAQ,YAAW,wBAA1B;AAAA;AAAA;AAAA;AAAA,iBAAkC;AAAA,UAClC,mDAAC,WAAM,IAAG,YAAW,MAAK,YAAW,MAAK,QAAO,aAAY,uBAA7D;AAAA;AAAA;AAAA;AAAA,iBAAiF;AAAA,UAEjF,mDAAC,WAAM,SAAQ,SAAQ,yBAAvB;AAAA;AAAA;AAAA;AAAA,iBAAgC;AAAA,UAChC,mDAAC,WAAM,MAAK,SAAQ,MAAK,OAAM,UAAU,OAAK,SAAS,EAAE,OAAO,KAAK,GAAG,aAAY,2BAApF;AAAA;AAAA;AAAA;AAAA,iBAA4G;AAAA,UAE5G,mDAAC,WAAM,SAAQ,iBAAgB,6BAA/B;AAAA;AAAA;AAAA;AAAA,iBAA4C;AAAA,UAC5C,mDAAC,SAAI,IAAG,iBAAgB,WAAU,iBAAgB,KAAK,QAAQ,QAAQ,wDAAwD,KAAI,UAAS,SAAS,OAAK,EAAE,OAAO,MAAM,2DAAzK;AAAA;AAAA;AAAA;AAAA,iBAAkO;AAAA,aARlO;AAAA;AAAA;AAAA;AAAA,eASA;AAAA,WAzBF;AAAA;AAAA;AAAA;AAAA,aA0BE;AAAA,MAEA,mDAAC,SAAI,WAAU,QACb;AAAA,2DAAC,YAAO,oBAAR;AAAA;AAAA;AAAA;AAAA,eAAY;AAAA,QACZ,mDAAC,YAAO,MAAK,UAAS,WAAU,cAAa,SAAS,cAAc,sBAApE;AAAA;AAAA;AAAA;AAAA,eAEA;AAAA,WAJF;AAAA;AAAA;AAAA;AAAA,aAKA;AAAA,SAlCF;AAAA;AAAA;AAAA;AAAA,WAmCA;AAAA,OArCG;AAAA;AAAA;AAAA;AAAA,SAsCL;AACJ;AACA,GAAG,UAAU,gCAAgC,OAAO,WAAY;AAC9D,SAAO,CAAC,WAAW;AACrB,CAAC;AACD,KAAK;AAmBL,IAAI;AACJ,aAAa,IAAI,UAAU;AAE3B,OAAO,eAAe;AACtB,OAAO,eAAe;",
  "names": ["import_react"]
}
